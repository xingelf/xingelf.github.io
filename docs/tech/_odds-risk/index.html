<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Understanding Odds Ratio and Risk Ratio - Note about technology</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="http://localhost:1313/tech/_odds-risk/">
  <meta property="og:site_name" content="Note about technology">
  <meta property="og:title" content="Understanding Odds Ratio and Risk Ratio">
  <meta property="og:description" content="Understanding Odds Ratio and Risk Ratio Understanding Risk Ratio Let’s start with the concept of Risk Ratio, which is relatively easier to grasp. Please note that the following numbers are entirely hypothetical.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">
    <meta property="article:published_time" content="2021-09-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2021-09-01T00:00:00+00:00">
    <meta property="article:tag" content="Math">
    <meta property="article:tag" content="Statistics">
    <meta property="article:tag" content="Machine Learning">

		
  <meta itemprop="name" content="Understanding Odds Ratio and Risk Ratio">
  <meta itemprop="description" content="Understanding Odds Ratio and Risk Ratio Understanding Risk Ratio Let’s start with the concept of Risk Ratio, which is relatively easier to grasp. Please note that the following numbers are entirely hypothetical.">
  <meta itemprop="datePublished" content="2021-09-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2021-09-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="1516">
  <meta itemprop="keywords" content="Math,Statistics,Machine Learning">
		
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Understanding Odds Ratio and Risk Ratio">
  <meta name="twitter:description" content="Understanding Odds Ratio and Risk Ratio Understanding Risk Ratio Let’s start with the concept of Risk Ratio, which is relatively easier to grasp. Please note that the following numbers are entirely hypothetical.">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="Tech Note" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/icons/favicon.ico">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Tech Note</div>
					<div class="logo__tagline">Control your own destiny or someone else will</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Top</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/tech">
				
				<span class="menu__text">Tech🧑‍💻</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/dapps">
				
				<span class="menu__text">Blockchain🔗</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/mlai">
				
				<span class="menu__text">ML/AI🤖</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/ios">
				
				<span class="menu__text">Apple🍎</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/posts">
				
				<span class="menu__text">Posts📝</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about">
				
				<span class="menu__text">about</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Understanding Odds Ratio and Risk Ratio</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2021-09-01T00:00:00Z">2021-09-01</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/tech/" rel="category">Tech</a>
	</span>
</div></div>
		</header>
		
 	<figure class="post__thumbnail thumbnail">
		
		<img class="thumbnail__image" src="/images/dices-over-newspaper.jpeg" alt="Understanding Odds Ratio and Risk Ratio">
		
	</figure>
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li><a href="#understanding-risk-ratio">Understanding Risk Ratio</a></li>
    <li><a href="#understanding-odds-ratio">Understanding Odds Ratio</a></li>
    <li><a href="#when-to-use-odds-ratio">When to Use Odds Ratio</a>
      <ul>
        <li><a href="#1-utilized-in-both-cohort-studies-prospective-studies--future-event-analysis-and-case-control-studies-retrospective-studies--past-event-analysis">1. Utilized in both Cohort Studies (Prospective Studies = Future Event Analysis) and Case-Control Studies (Retrospective Studies = Past Event Analysis)</a></li>
        <li><a href="#2-when-p-is-small-it-can-be-treated-as-equivalent-to-the-risk-ratio">2. When p is small, it can be treated as equivalent to the Risk Ratio</a></li>
        <li><a href="#relationship-with-logistic-regression">Relationship with Logistic Regression</a></li>
      </ul>
    </li>
    <li><a href="#reference-video">Reference Video</a></li>
  </ul>

  <ul>
    <li><a href="#リスク比とは">リスク比とは</a></li>
    <li><a href="#オッズ比とは">オッズ比とは</a></li>
    <li><a href="#オッズ比を使う場面">オッズ比を使う場面</a>
      <ul>
        <li><a href="#1コホート研究前向き研究将来事象分析とケースコントロール研究後ろ向き研究過去実績分析のいずれにも利用できる">1.コホート研究（前向き研究＝将来事象分析）とケースコントロール研究（後ろ向き研究＝過去実績分析）のいずれにも利用できる</a></li>
        <li><a href="#2pが小さい場合はリスク比相当として扱うことができる">2.pが小さい場合はリスク比相当として扱うことができる</a></li>
        <li><a href="#ロジスティック回帰との関係">ロジスティック回帰との関係</a></li>
      </ul>
    </li>
    <li><a href="#参考動画">参考動画</a></li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<h1 id="understanding-odds-ratio-and-risk-ratio">Understanding Odds Ratio and Risk Ratio</h1>
<h2 id="understanding-risk-ratio">Understanding Risk Ratio</h2>
<p>Let&rsquo;s start with the concept of Risk Ratio, which is relatively easier to grasp. Please note that the following numbers are entirely hypothetical.</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>COVID-19 Positive</th>
          <th>COVID-19 Negative</th>
          <th>Total</th>
          <th>Incidence Rate</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Not Wearing Mask</td>
          <td>90</td>
          <td>10</td>
          <td>100</td>
          <td>Pa = 90%</td>
      </tr>
      <tr>
          <td>Wearing Mask</td>
          <td>40</td>
          <td>160</td>
          <td>200</td>
          <td>Pb = 20%</td>
      </tr>
  </tbody>
</table>
<p>Here, <strong>risk</strong> refers to the incidence rate itself. The ratio of these rates, known as the <strong>Risk Ratio</strong>, can be expressed as a proportion or a multiple. In other words, it represents the proportion of incidence rates, so:</p>
<p>$Risk Ratio = \frac{Pa}{Pb} = 4.5$</p>
<p>In this case, <strong>for those not wearing masks, the Risk Ratio is 4.5 times higher</strong>, indicating that the risk of contracting COVID-19 is 4.5 times higher without wearing a mask. Risk Ratio provides an intuitive understanding of the difference in risk.</p>
<h2 id="understanding-odds-ratio">Understanding Odds Ratio</h2>
<p>First, let&rsquo;s define odds as follows:</p>
<p>$Odds = \frac{P}{1-P}$</p>
<p>Based on this definition, let&rsquo;s calculate the odds using the previous data.</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>COVID-19 Positive</th>
          <th>COVID-19 Negative</th>
          <th>Total</th>
          <th>Incidence Rate</th>
          <th>Odds</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Not Wearing Mask</td>
          <td>90</td>
          <td>10</td>
          <td>100</td>
          <td>Pa = 90%</td>
          <td>$\frac{0.9}{0.1}=9$</td>
      </tr>
      <tr>
          <td>Wearing Mask</td>
          <td>40</td>
          <td>160</td>
          <td>200</td>
          <td>Pb = 20%</td>
          <td>$\frac{0.2}{0.8}=0.25$</td>
      </tr>
  </tbody>
</table>
<p>The Odds Ratio is the ratio of these odds:</p>
<p>$Odds Ratio = \frac{\frac{Pa}{1-Pa}}{\frac{Pb}{1-Pb}} = \frac{9}{0.25} = 38$</p>
<p>The Odds Ratio is 38.</p>
<h2 id="when-to-use-odds-ratio">When to Use Odds Ratio</h2>
<p>While Risk Ratio may suffice in most cases, when is the Odds Ratio typically used? Here are some scenarios:</p>
<h3 id="1-utilized-in-both-cohort-studies-prospective-studies--future-event-analysis-and-case-control-studies-retrospective-studies--past-event-analysis">1. Utilized in both Cohort Studies (Prospective Studies = Future Event Analysis) and Case-Control Studies (Retrospective Studies = Past Event Analysis)</h3>
<p>In the example above, they would be as follows:</p>
<ul>
<li><strong>Cohort Study</strong>: Collecting records of individuals not wearing masks and examining the incidence of COVID-19 after a certain period.</li>
<li><strong>Case-Control Study</strong>: Conducting interviews with COVID-19 patients and non-patients to inquire about mask-wearing habits.</li>
</ul>
<p>Suppose the data for COVID-19 patients is collected twice as much in the Case-Control Study. In this case:</p>
<p>$Risk Ratio = \frac{Pa}{Pb} = \frac{0.95}{0.33} = 2.9$</p>
<p>$Odds Ratio = \frac{\frac{Pa}{1-Pa}}{\frac{Pb}{1-Pb}} = \frac{19}{0.5} = 36$</p>
<p><strong>The Risk Ratio becomes 2.9 times higher, while the Odds Ratio remains 36.</strong></p>
<p>As evident from this definition,
In Case-Control Studies, the Risk Ratio changes depending on the number of incidence data collected.
On the other hand, there is no change in the Odds Ratio.</p>
<h3 id="2-when-p-is-small-it-can-be-treated-as-equivalent-to-the-risk-ratio">2. When p is small, it can be treated as equivalent to the Risk Ratio</h3>
<p>When p is small, it can be approximated as $1-p \simeq 1$, and the Risk Ratio can be estimated from the Odds Ratio:</p>
<p>$Odds Ratio = \frac{\frac{Pa}{1-Pa}}{\frac{Pb}{1-Pb}} =  \frac{Pa}{Pb} = Risk Ratio$</p>
<h3 id="relationship-with-logistic-regression">Relationship with Logistic Regression</h3>
<p>Odds can be expressed using the sigmoid function as follows:</p>
<p>$ Odds = \frac{P}{1-P} = \frac{\frac{1}{1+exp(-\bf{w}^T\bf{x}+b)}}{1-\frac{1}{1+exp(-\bf{w}^T\bf{x}+b)}}
= e^{-\bf{w}^T\bf{x}+b} $</p>
<p>$\bf{x}$: Vector of explanatory variables</p>
<hr>
<h2 id="reference-video">Reference Video</h2>

    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/_DdE97C7Hq0?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>

<h1 id="オッズ比とリスク比について理解する">オッズ比とリスク比について理解する</h1>
<h2 id="リスク比とは">リスク比とは</h2>
<p>まずは理解が容易なリスク比からはじめます。
なお、以下の数字は完全に仮想的なものです。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>コロナ罹患</th>
          <th>コロナ未罹患</th>
          <th>合計</th>
          <th>罹患率</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>マスク未着用</td>
          <td>90</td>
          <td>10</td>
          <td>100</td>
          <td>Pa = 90%</td>
      </tr>
      <tr>
          <td>マスク着用</td>
          <td>40</td>
          <td>160</td>
          <td>200</td>
          <td>Pb = 20%</td>
      </tr>
  </tbody>
</table>
<p>ここで<strong>リスク</strong>は罹患率そのものを意味します。その比率である
<strong>リスク比</strong>は割合・〇倍で表現できます。つまり、罹患率の割合になりますので、</p>
<p>　$リスク比= \frac{Pa}{Pb} = 4.5$</p>
<p><strong>マスク未着用の場合、リスク比は4.5倍</strong></p>
<p>という表現をします。このように、マスクをしない場合はコロナ罹患リスクが4.5倍ということで、
リスク比は直感的に分かりやすいものです。</p>
<h2 id="オッズ比とは">オッズ比とは</h2>
<p>まず、オッズを以下のように定義します。</p>
<p>$オッズ= \frac{P}{1-P} $</p>
<p>この定義をもとに先程のデータでオッズを求めます。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>コロナ罹患</th>
          <th>コロナ未罹患</th>
          <th>合計</th>
          <th>罹患率</th>
          <th>オッズ</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>マスク未着用</td>
          <td>90</td>
          <td>10</td>
          <td>100</td>
          <td>Pa = 90%</td>
          <td>$\frac{0.9}{0.1}=9$</td>
      </tr>
      <tr>
          <td>マスク着用</td>
          <td>40</td>
          <td>160</td>
          <td>200</td>
          <td>Pb = 20%</td>
          <td>$\frac{0.2}{0.8}=0.25$</td>
      </tr>
  </tbody>
</table>
<p>オッズ比はこの比率になりますので、</p>
<p>$オッズ比= \frac{\frac{Pa}{1-Pa}}{\frac{Pb}{1-Pb}} = \frac{9}{0.25} = 38$</p>
<p>オッズ比は38になります。</p>
<h2 id="オッズ比を使う場面">オッズ比を使う場面</h2>
<p>一般的にはリスク比で十分な印象ですが、このオッズ比はどのような場面で使われるのでしょうか。
以下のようなケースがあります。</p>
<h3 id="1コホート研究前向き研究将来事象分析とケースコントロール研究後ろ向き研究過去実績分析のいずれにも利用できる">1.コホート研究（前向き研究＝将来事象分析）とケースコントロール研究（後ろ向き研究＝過去実績分析）のいずれにも利用できる</h3>
<p>上記の例で言えば、それぞれ以下のようになります。</p>
<ul>
<li><strong>コホート研究</strong> マスク未着用者の記録を採取し、一定期間後のコロナ罹患結果を調べる手法</li>
<li><strong>ケースコントロール研究</strong>　コロナ罹患者・未罹患者からヒアリングを行いマスク着用習慣をヒアリングする</li>
</ul>
<p>コロナ罹患者のデータがケースコントロール研究で倍収集できたとしましょう。
ここで、マスク未着用・着用の比率は先程のデータと同じです。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>コロナ罹患</th>
          <th>コロナ未罹患</th>
          <th>合計</th>
          <th>罹患率</th>
          <th>オッズ</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>マスク未着用</td>
          <td>180</td>
          <td>10</td>
          <td>190</td>
          <td>Pa = 95%</td>
          <td>$\frac{0.95}{0.05}=19$</td>
      </tr>
      <tr>
          <td>マスク着用</td>
          <td>80</td>
          <td>160</td>
          <td>240</td>
          <td>Pb = 33%</td>
          <td>$\frac{0.33}{0.66}=0.5$</td>
      </tr>
  </tbody>
</table>
<p>このようになります。この場合、</p>
<p>$リスク比= \frac{Pa}{Pb} = \frac{0.95}{0.33} = 2.9$</p>
<p>$オッズ比= \frac{\frac{Pa}{1-Pa}}{\frac{Pb}{1-Pb}} = \frac{19}{0.5} = 36$</p>
<p><strong>リスク比は2.9倍になりますが、オッズ比は36のままとなります。</strong></p>
<p>この定義から分かる通り、
ケースコントロール研究では、罹患データの収集数でリスク比が変わってしまいます。
一方、オッズ比については、どちらも変化がありません。</p>
<h3 id="2pが小さい場合はリスク比相当として扱うことができる">2.pが小さい場合はリスク比相当として扱うことができる</h3>
<p>pが小さい場合は$1-p \simeq 1$として、リスク比はオッズ比から推定可能です。</p>
<p>$ オッズ比 = \frac{\frac{Pa}{1-Pa}}{\frac{Pb}{1-Pb}} =  \frac{Pa}{Pb} = リスク比$</p>
<h3 id="ロジスティック回帰との関係">ロジスティック回帰との関係</h3>
<p>オッズは確率Pをシグモイド関数で表現した場合、以下のように表現できます。</p>
<p>$ オッズ= \frac{P}{1-P} = \frac{\frac{1}{1+exp(-\bf{w}^T\bf{x}+b)}}{1-\frac{1}{1+exp(-\bf{w}^T\bf{x}+b)}}
= e^{-\bf{w}^T\bf{x}+b} $</p>
<p>$\bf{x}$:説明変数のベクトル</p>
<hr>
<h2 id="参考動画">参考動画</h2>

    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/_DdE97C7Hq0?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="YouTube video"></iframe>
    </div>


		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/math/" rel="tag">Math</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/statistics/" rel="tag">Statistics</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/machine-learning/" rel="tag">Machine Learning</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/tech/_hugo/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Hugo備忘メモ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/tech/pandasdatareader/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pandas Dataredader</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2025 @xingelf.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
 tex2jax: {
 inlineMath: [['$', '$'] ],
 displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
 }
 });
</script></body>
</html>